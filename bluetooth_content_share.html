<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body>Signin<br>import { useRouter } from 'next/navigation';<br>import { useState } from 'react';<br><br>export default function SignIn() {<br>&nbsp; const [studentId, setStudentId] = useState('');<br>&nbsp; const [email, setEmail] = useState('');<br>&nbsp; const [password, setPassword] = useState('');<br>&nbsp; const [message, setMessage] = useState('');<br>&nbsp; const [isLogin, setIsLogin] = useState(true);<br>&nbsp; const [loading, setLoading] = useState(false);<br>&nbsp; const router = useRouter();<br><br>&nbsp; const handleSubmit = async (e: <a href="http://React.FormEvent">React.FormEvent</a>) =&gt; {<br>&nbsp;&nbsp;&nbsp; <a href="http://e.preventDefault">e.preventDefault</a>();<br>&nbsp;&nbsp;&nbsp; setLoading(true);<br>&nbsp;&nbsp;&nbsp; const endpoint = isLogin ? '<a href="http://login.php">login.php</a>' : '<a href="http://signup.php">signup.php</a>';<br><br>&nbsp;&nbsp;&nbsp; try {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const response = await fetch(`http://localhost/campus_health_api/${endpoint}`, {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; method: 'POST',<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; headers: { 'Content-Type': 'application/x-www-form-urlencoded' },<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; body: new URLSearchParams({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; student_id: studentId,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...(isLogin ? { password } : { email, password }),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const data = await <a href="http://response.json">response.json</a>();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (<a href="http://data.success">data.success</a>) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setMessage(<a href="http://data.message">data.message</a> || 'Operation successful.');<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://document.cookie">document.cookie</a> = `studentId=${studentId}; expires=; path=/`; // Set cookie<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://router.push">router.push</a>('/homepage');<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setMessage(<a href="http://data.error">data.error</a> || 'An unknown error occurred.');<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; } catch (error) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://console.error">console.error</a>('Error during submission:', error);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setMessage('An error occurred. Please try again.');<br>&nbsp;&nbsp;&nbsp; } finally {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setLoading(false);<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; };<br><br>&nbsp; // ... rest of your component JSX<br>}</body></html>